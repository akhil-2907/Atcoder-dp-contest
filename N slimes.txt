#include<bits/stdc++.h>
using namespace std;
#define ll  long long
 
ll dp[401][401];
vector<ll>v(401);
ll sum(ll i, ll j)
{
    ll ans =0;
    for(ll k =i;k<=j;k++)
    {
        ans+=v[k];
    }
    return ans;
}
 
ll solve(ll i, ll j)
{
    if(i==j) return 0;
 
    if(dp[i][j]!=-1) return dp[i][j];
 
    ll ans =1e18;
 
    for(ll k =i;k<j;k++)
    {
        ans = min(ans,solve(i,k)+(solve(k+1,j)+sum(i,k)+sum(k+1,j)));
    }
    return dp[i][j]=ans;
}
 
int main()
{
    ll n;  cin>>n;
    memset(dp,-1,sizeof(dp));
    
    for(ll i=1;i<=n;i++)
    {
        cin>>v[i];
    }
    cout<<solve(1,n)<<endl;
 
}