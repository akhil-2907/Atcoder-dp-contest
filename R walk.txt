#include<bits/stdc++.h>
using namespace std;
 
#define ll long long
#define M 1000000007
 
vector<vector<ll>>multiply(vector<vector<ll>>A,vector<vector<ll>>B)
{
    ll n =A.size();
    vector<vector<ll>>ans(n,vector<ll>(n,0));
 
    for(ll i=0;i<n;i++)
    {
        for(ll j =0;j<n;j++)
        {
            for(ll x =0;x<n;x++)
            {
                ans[i][j]= (ans[i][j]+A[i][x]*B[x][j])%M;
            }
        }
    }
    return ans ;
}
 
vector<vector<ll>>powd(vector<vector<ll>>ak, ll k)
{
    if(k==1) return ak;
 
    if(k&1) return multiply(ak,powd(ak,k-1));
    vector<vector<ll>> res = powd(ak,k/2);
     return multiply(res,res);  
}
 
ll solve(vector<vector<ll>>mat,ll k, ll n)
{
  vector<vector<ll>>a = powd(mat,k);
 
  ll res =0;
 
  for(ll i=0;i<n;i++)
  {
      for(ll j=0;j<n;j++)
      {
          res= (res+a[i][j])%M;
      }
  }
  return res;
 
}
 
int main()
{
    ll n,k; cin>>n>>k;
 
    vector<vector<ll>>v(n,vector<ll>(n));
 
    for(ll i=0;i<n;i++)
    {
        for(ll j =0;j<n;j++)
        {
           cin>>v[i][j];
        }
    }
    cout<<solve(v,k,n)<<endl;
}